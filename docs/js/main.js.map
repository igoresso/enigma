{"version":3,"file":"main.js","sources":["source/js/data.js","source/js/rotors.js","source/js/lampboard.js","source/js/keyboard.js","source/js/plugboard.js","source/js/enigma.js","source/js/main.js"],"sourcesContent":["export const Alphabet = ['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'];\n\nexport const Layout = ['Q','W','E','R','T','Z','U','I','O','A','S','D','F','G','H','J','K','P','Y','X','C','V','B','N','M','L'];\n\nexport const RotorOption = {\n  'i': {\n    'letter': ['E','K','M','F','L','G','D','Q','V','Z','N','T','O','W','Y','H','X','U','S','P','A','I','B','R','C','J'],\n    'notch': 'Q'\n  },\n  'ii': {\n    'letter': ['A','J','D','K','S','I','R','U','X','B','L','H','W','T','M','C','Q','G','Z','N','P','Y','F','V','O','E'],\n    'notch': 'E'\n  },\n  'iii': {\n    'letter': ['B','D','F','H','J','L','C','P','R','T','X','V','Z','N','Y','E','I','W','G','A','K','M','U','S','Q','O'],\n    'notch': 'V'\n  }\n};\n\nexport const ReflectorOption = {\n  'B': ['Y','R','U','H','Q','S','L','D','P','X','N','G','O','K','M','I','E','B','F','Z','C','W','V','J','A','T']\n};\n\nexport const KeyCode= {\n  'KEY_A': 65,\n  'KEY_B': 66,\n  'KEY_C': 67,\n  'KEY_D': 68,\n  'KEY_E': 69,\n  'KEY_F': 70,\n  'KEY_G': 71,\n  'KEY_H': 72,\n  'KEY_I': 73,\n  'KEY_J': 74,\n  'KEY_K': 75,\n  'KEY_L': 76,\n  'KEY_M': 77,\n  'KEY_N': 78,\n  'KEY_O': 79,\n  'KEY_P': 80,\n  'KEY_Q': 81,\n  'KEY_R': 82,\n  'KEY_S': 83,\n  'KEY_T': 84,\n  'KEY_U': 85,\n  'KEY_V': 86,\n  'KEY_W': 87,\n  'KEY_X': 88,\n  'KEY_Y': 89,\n  'KEY_Z': 90\n};\n","import {Alphabet} from './data';\n\nclass Rotors {\n  constructor(classAttribute) {\n    this.rotors = Array.from(document.querySelectorAll(classAttribute)).reverse();\n    this.valueIndex = [];\n  }\n\n  setValue(rotorIndex, value) {\n    const rotor = this.rotors[rotorIndex];\n    const valueIndex = Alphabet.indexOf(value);\n\n    const mainWindow = rotor.querySelector('.rotors__window--active');\n    const firstNextWindow = mainWindow.previousElementSibling;\n    const secondNextWindow = firstNextWindow.previousElementSibling;\n    const firstPrevWindow = mainWindow.nextElementSibling;\n    const secondPrevWindow = firstPrevWindow.nextElementSibling;\n    const wheel = rotor.querySelector('.rotors__wheel');\n\n    const firstNextValueIndex = (valueIndex + 1 > 25) ? 0 : valueIndex + 1;\n    const secondNextValueIndex = (valueIndex + 2 > 25) ? valueIndex - 26 + 2 : valueIndex + 2;\n    const firstPrevValueIndex = (valueIndex - 1 < 0) ? 25 : valueIndex - 1;\n    const secondPrevValueIndex = (valueIndex - 2 < 0) ? valueIndex + 26 - 2 : valueIndex - 2;\n\n    mainWindow.value = Alphabet[valueIndex];\n    firstNextWindow.innerText = Alphabet[firstNextValueIndex];\n    secondNextWindow.innerText = Alphabet[secondNextValueIndex];\n    firstPrevWindow.innerText = Alphabet[firstPrevValueIndex];\n    secondPrevWindow.innerText = Alphabet[secondPrevValueIndex];\n\n    wheel.style.backgroundPositionY = (valueIndex * 100 / 26) * 7 + '%';\n    this.valueIndex[rotorIndex] = valueIndex;\n  }\n\n  stepRotor(rotorIndex) {\n    const newValueIndex = (this.valueIndex[rotorIndex] + 1 > 25) ? 0 : (this.valueIndex[rotorIndex] + 1);\n    const newValue = Alphabet[newValueIndex];\n    this.setValue(rotorIndex, newValue);\n  }\n\n  getCurrentState() {\n    return this.valueIndex;\n  }\n\n  bind() {\n    for (let [index, rotor] of this.rotors.entries()) {\n      const btnNext = rotor.querySelector('.rotors__btn--next');\n      const btnPrev = rotor.querySelector('.rotors__btn--prev');\n      const input = rotor.querySelector('input');\n\n      btnNext.onclick = () => {\n        const currentValueIndex = this.valueIndex[index];\n        const newValueIndex = (currentValueIndex + 1 > 25) ? 0 : currentValueIndex + 1;\n        this.setValue(index, Alphabet[newValueIndex]);\n      };\n\n      btnPrev.onclick = () => {\n        const currentValueIndex = this.valueIndex[index];\n        const newValueIndex = (currentValueIndex - 1 < 0) ? 25 : currentValueIndex - 1;\n        this.setValue(index, Alphabet[newValueIndex]);\n      };\n\n      input.onchange = () => {\n        if (input.validity.valid) {\n          input.value = input.value.toUpperCase();\n          this.setValue(index, input.value);\n        } else {\n          input.value = '';\n        }\n      };\n    }\n  }\n\n  reset() {\n    for (let i = 0; i < this.rotors.length; i++) {\n      this.setValue(i, 'A');\n    }\n  }\n\n  init() {\n    this.reset();\n    this.bind();\n  }\n}\n\nconst rotors = new Rotors('.rotors__item');\nexport default rotors;\n","import {Layout} from './data';\n\nclass Lampboard {\n  constructor(classAttribute) {\n    this.lamps = document.querySelectorAll(classAttribute);\n    this.lastIndex = null;\n  }\n\n  newOutput(letter) {\n    const newIndex = Layout.indexOf(letter);\n    this.reset();\n    this.lamps[newIndex].classList.add('lampboard__lamp--active');\n    this.lastIndex = newIndex;\n  }\n\n  reset() {\n    const currentIndex = this.lastIndex || 0;\n    this.lamps[currentIndex].classList.remove('lampboard__lamp--active');\n    this.lastIndex = null;\n  }\n}\n\nconst lampboard = new Lampboard('.lampboard__lamp');\nexport default lampboard;\n","class Keyboard {\n  constructor(classAttribute) {\n    this.keys = document.querySelectorAll(classAttribute);\n  }\n\n  inputAction(letter) {\n    return letter;\n  }\n\n  bind() {\n    for (let key of this.keys) {\n      key.onclick = () => {\n        this.inputAction(key.innerText.toUpperCase());\n      };\n    }\n  }\n\n  init() {\n    this.bind();\n  }\n}\n\nconst keyboard = new Keyboard('.keyboard__btn');\nexport default keyboard;\n","class Plugboard {\n  constructor(classAttribute) {\n    this.sockets = document.querySelectorAll(classAttribute);\n    this.connections = {};\n    this.prevSocket = null;\n  }\n\n  createPlug(pairLetter) {\n    const plug = document.createElement('div');\n    plug.classList.add('plugboard__plug');\n    plug.innerText = pairLetter.toUpperCase();\n    return plug;\n  }\n\n  disconnectSockets(plug1, plug2, letter1, letter2) {\n    plug1.remove();\n    plug2.remove();\n    delete this.connections[letter1];\n    delete this.connections[letter2];\n  }\n\n  connectSockets(socket1, socket2) {\n    const letter1 = socket2.getAttribute('letter');\n    const letter2 = socket1.getAttribute('letter');\n    const plug1 = this.createPlug(letter1);\n    const plug2 = this.createPlug(letter2);\n\n    plug1.onclick = (evt) => {\n      evt.stopPropagation();\n      this.disconnectSockets(plug1, plug2, letter1, letter2);\n    };\n\n    plug2.onclick = (evt) => {\n      evt.stopPropagation();\n      this.disconnectSockets(plug1, plug2, letter1, letter2);\n    };\n\n    socket1.appendChild(plug1);\n    socket2.appendChild(plug2);\n    this.connections[letter1] = letter2;\n    this.connections[letter2] = letter1;\n  }\n\n  reset() {\n    for (let socket of this.sockets) {\n      const plug = socket.querySelector('.plugboard__socket');\n      plug.remove;\n    }\n\n    this.connections = {};\n  }\n\n  bind() {\n    for (let socket of this.sockets) {\n      socket.onclick = () => {\n        if (this.prevSocket && this.prevSocket !== socket) {\n          this.connectSockets(socket, this.prevSocket);\n          socket.blur();\n          this.prevSocket = null;\n        } else {\n          this.prevSocket = socket;\n        }\n      };\n    }\n  }\n\n  init() {\n    this.bind();\n  }\n}\n\nconst plugboard = new Plugboard('.plugboard__socket');\nexport default plugboard;\n","import {Alphabet} from './data';\n\nclass Enigma {\n  constructor() {\n\n  }\n\n  sumValues(a, b) {\n    return (a + b > 25) ? (a - 26 + b) : (a + b);\n  }\n\n  subValues(a, b) {\n    return (a - b < 0) ? (a + 26 - b) : (a - b);\n  }\n\n  encrypt(letter, rotors, rotorPositions, reflector) {\n    let result;\n    const letterIndex = Alphabet.indexOf(letter);\n    const numberOfRotors = rotorPositions.length;\n\n    for (let i = 0; i < numberOfRotors; i++) {\n      if (i == 0) {\n        result = Alphabet.indexOf(rotors[i][this.sumValues(rotorPositions[i], letterIndex)]);\n      } else {\n        result = Alphabet.indexOf(rotors[i][this.sumValues(result, this.subValues(rotorPositions[i], rotorPositions[i - 1]))]);\n      }\n    }\n\n    result = rotors[numberOfRotors - 1].indexOf(Alphabet[this.sumValues(Alphabet.indexOf(reflector[this.subValues(result, rotorPositions[numberOfRotors - 1])]), rotorPositions[numberOfRotors - 1])]);\n\n    for (let i = numberOfRotors - 1; i >= 0; i--) {\n      if (i == 0) {\n        result = this.subValues(result, rotorPositions[0]);\n      } else {\n        result = rotors[i - 1].indexOf(Alphabet[this.subValues(result, this.subValues(rotorPositions[i], rotorPositions[i - 1]))]);\n      }\n    }\n\n    result = Alphabet[result];\n\n    return result;\n  }\n}\n\nconst enigma = new Enigma();\nexport default enigma;\n","import {RotorOption, ReflectorOption, Alphabet} from './data';\nimport Rotors from './rotors';\nimport Lampboard from './lampboard';\nimport Keyboard from './keyboard';\nimport Plugboard from './plugboard';\nimport Enigma from './enigma';\n\nclass App {\n  constructor(rotorSet, rotorSetNotch, reflector) {\n    this.rotorSet = rotorSet;\n    this.rotorSetNotch = rotorSetNotch;\n    this.reflector = reflector;\n  }\n\n  init() {\n    Keyboard.init();\n    Plugboard.init();\n    Rotors.init();\n  }\n\n  changeRotor(rotor, notch, rotorIndex) {\n    this.rotorSet[rotorIndex] = rotor;\n    this.rotorSetNotch[rotorIndex] = notch;\n  }\n\n  changeReflector(reflector) {\n    this.reflector = reflector;\n  }\n\n  inputAction(letter) {\n    if (letter in Plugboard.connections) {\n      letter = Plugboard.connections[letter];\n    }\n\n    const rotorsToStep = [0];\n\n    for (let i = 0; i < this.rotorSet.length - 1; i++) {\n      const currentValue = Alphabet[Rotors.valueIndex[i]];\n      if (currentValue == this.rotorSetNotch[i]) {\n        rotorsToStep.push(i + 1);\n      } else {\n        break;\n      }\n    }\n\n    rotorsToStep.forEach((item) => {\n      Rotors.stepRotor(item);\n    });\n\n    let result = Enigma.encrypt(letter, this.rotorSet, Rotors.valueIndex, this.reflector);\n\n    if (result in Plugboard.connections) {\n      result = Plugboard.connections[result];\n    }\n\n    Lampboard.newOutput(result);\n  }\n}\n\nconst app = new App([RotorOption.iii.letter, RotorOption.ii.letter, RotorOption.i.letter], [RotorOption.iii.notch, RotorOption.ii.notch, RotorOption.i.notch], ReflectorOption.B);\napp.init();\n\nKeyboard.inputAction = (letter) => {\n  app.inputAction(letter);\n};\n"],"names":["Keyboard","Plugboard","Rotors","Enigma","Lampboard"],"mappings":"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"}