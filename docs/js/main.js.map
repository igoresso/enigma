{"version":3,"file":"main.js","sources":["source/js/data.js","source/js/rotors.js","source/js/lampboard.js","source/js/keyboard.js","source/js/plugboard.js","source/js/settings.js","source/js/message.js","source/js/enigma.js","source/js/main.js"],"sourcesContent":["export const Alphabet = ['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'];\n\nexport const Layout = ['Q','W','E','R','T','Z','U','I','O','A','S','D','F','G','H','J','K','P','Y','X','C','V','B','N','M','L'];\n\nexport const RotorOption = {\n  'I': {\n    'alphabet': ['E','K','M','F','L','G','D','Q','V','Z','N','T','O','W','Y','H','X','U','S','P','A','I','B','R','C','J'],\n    'notch': 'Q'\n  },\n  'II': {\n    'alphabet': ['A','J','D','K','S','I','R','U','X','B','L','H','W','T','M','C','Q','G','Z','N','P','Y','F','V','O','E'],\n    'notch': 'E'\n  },\n  'III': {\n    'alphabet': ['B','D','F','H','J','L','C','P','R','T','X','V','Z','N','Y','E','I','W','G','A','K','M','U','S','Q','O'],\n    'notch': 'V'\n  },\n  'IV': {\n    'alphabet': ['E','S','O','V','P','Z','J','A','Y','Q','U','I','R','H','X','L','N','F','T','G','K','D','C','M','W','B'],\n    'notch': 'J'\n  },\n  'V': {\n    'alphabet': ['V','Z','B','R','G','I','T','Y','U','P','S','D','N','H','L','X','A','W','M','J','Q','O','F','E','C','K'],\n    'notch': 'Z'\n  }\n};\n\nexport const ReflectorOption = {\n  'A': ['E','J','M','Z','A','L','Y','X','V','B','W','F','C','R','Q','U','O','N','T','S','P','I','K','H','G','D'],\n  'B': ['Y','R','U','H','Q','S','L','D','P','X','N','G','O','K','M','I','E','B','F','Z','C','W','V','J','A','T'],\n  'C': ['F','V','P','J','I','A','O','Y','E','D','R','Z','X','W','G','C','T','K','U','Q','S','B','N','M','H','L']\n};\n","import {Alphabet} from './data';\n\nclass Rotors {\n  constructor(classAttribute) {\n    this.rotors = Array.from(document.querySelectorAll(classAttribute)).reverse();\n    this.valueIndex = [];\n  }\n\n  setValue(rotorIndex, value) {\n    const rotor = this.rotors[rotorIndex];\n    const valueIndex = Alphabet.indexOf(value);\n\n    const mainWindow = rotor.querySelector('.rotors__window--active');\n    const firstNextWindow = mainWindow.previousElementSibling;\n    const secondNextWindow = firstNextWindow.previousElementSibling;\n    const firstPrevWindow = mainWindow.nextElementSibling;\n    const secondPrevWindow = firstPrevWindow.nextElementSibling;\n    const wheel = rotor.querySelector('.rotors__wheel');\n\n    const firstNextValueIndex = (valueIndex + 1 > 25) ? 0 : valueIndex + 1;\n    const secondNextValueIndex = (valueIndex + 2 > 25) ? valueIndex - 26 + 2 : valueIndex + 2;\n    const firstPrevValueIndex = (valueIndex - 1 < 0) ? 25 : valueIndex - 1;\n    const secondPrevValueIndex = (valueIndex - 2 < 0) ? valueIndex + 26 - 2 : valueIndex - 2;\n\n    mainWindow.value = Alphabet[valueIndex];\n    firstNextWindow.innerText = Alphabet[firstNextValueIndex];\n    secondNextWindow.innerText = Alphabet[secondNextValueIndex];\n    firstPrevWindow.innerText = Alphabet[firstPrevValueIndex];\n    secondPrevWindow.innerText = Alphabet[secondPrevValueIndex];\n\n    wheel.style.backgroundPositionY = (valueIndex * 100 / 26) * 7 + '%';\n    this.valueIndex[rotorIndex] = valueIndex;\n  }\n\n  stepRotor(rotorIndex) {\n    const newValueIndex = (this.valueIndex[rotorIndex] + 1 > 25) ? 0 : (this.valueIndex[rotorIndex] + 1);\n    const newValue = Alphabet[newValueIndex];\n    this.setValue(rotorIndex, newValue);\n  }\n\n  getCurrentState() {\n    return this.valueIndex;\n  }\n\n  bind() {\n    for (let [index, rotor] of this.rotors.entries()) {\n      const btnNext = rotor.querySelector('.rotors__btn--next');\n      const btnPrev = rotor.querySelector('.rotors__btn--prev');\n      const input = rotor.querySelector('input');\n\n      btnNext.onclick = () => {\n        const currentValueIndex = this.valueIndex[index];\n        const newValueIndex = (currentValueIndex + 1 > 25) ? 0 : currentValueIndex + 1;\n        this.setValue(index, Alphabet[newValueIndex]);\n      };\n\n      btnPrev.onclick = () => {\n        const currentValueIndex = this.valueIndex[index];\n        const newValueIndex = (currentValueIndex - 1 < 0) ? 25 : currentValueIndex - 1;\n        this.setValue(index, Alphabet[newValueIndex]);\n      };\n\n      input.onchange = () => {\n        if (input.validity.valid) {\n          input.value = input.value.toUpperCase();\n          this.setValue(index, input.value);\n        } else {\n          input.value = '';\n        }\n      };\n    }\n  }\n\n  reset() {\n    for (let i = 0; i < this.rotors.length; i++) {\n      this.setValue(i, 'A');\n    }\n  }\n\n  init() {\n    this.reset();\n    this.bind();\n  }\n}\n\nconst rotors = new Rotors('.rotors__item');\nexport default rotors;\n","import {Layout} from './data';\n\nclass Lampboard {\n  constructor(classAttribute) {\n    this.lamps = document.querySelectorAll(classAttribute);\n    this.lastIndex = null;\n  }\n\n  newOutput(letter) {\n    const newIndex = Layout.indexOf(letter);\n    this.reset();\n    this.lamps[newIndex].classList.add('lampboard__lamp--active');\n    this.lastIndex = newIndex;\n  }\n\n  reset() {\n    const currentIndex = this.lastIndex || 0;\n    this.lamps[currentIndex].classList.remove('lampboard__lamp--active');\n    this.lastIndex = null;\n  }\n}\n\nconst lampboard = new Lampboard('.lampboard__lamp');\nexport default lampboard;\n","class Keyboard {\n  constructor(classAttribute) {\n    this.keys = document.querySelectorAll(classAttribute);\n  }\n\n  inputAction(letter) {\n    return letter;\n  }\n\n  bind() {\n    for (let key of this.keys) {\n      const letter = key.innerText.toUpperCase();\n\n      key.onclick = () => {\n        this.inputAction(letter);\n      };\n    }\n\n    document.onkeyup = (evt) => {\n      const re = /^[A-Z]{1}/;\n      const key = evt.key.toUpperCase();\n\n      if (re.test(key) && key.length == 1) {\n        this.inputAction(key);\n      }\n    };\n  }\n\n  init() {\n    this.bind();\n  }\n}\n\nconst keyboard = new Keyboard('.keyboard__btn');\nexport default keyboard;\n","class Plugboard {\n  constructor(classAttribute) {\n    this.sockets = document.querySelectorAll(classAttribute);\n    this.connections = {};\n    this.prevSocket = null;\n  }\n\n  createPlug(pairLetter) {\n    const plug = document.createElement('div');\n    plug.classList.add('plugboard__plug');\n    plug.tabIndex = 0;\n    plug.setAttribute('role', 'button');\n    plug.innerText = pairLetter.toUpperCase();\n    return plug;\n  }\n\n  disconnectSockets(plug1, plug2, letter1, letter2) {\n    plug1.remove();\n    plug2.remove();\n    delete this.connections[letter1];\n    delete this.connections[letter2];\n  }\n\n  connectSockets(socket1, socket2) {\n    const letter1 = socket2.querySelector('span').innerText;\n    const letter2 = socket1.querySelector('span').innerText;\n    const plug1 = this.createPlug(letter1);\n    const plug2 = this.createPlug(letter2);\n\n    plug1.onclick = (evt) => {\n      evt.stopPropagation();\n      this.disconnectSockets(plug1, plug2, letter1, letter2);\n    };\n\n    plug2.onclick = (evt) => {\n      evt.stopPropagation();\n      this.disconnectSockets(plug1, plug2, letter1, letter2);\n    };\n\n    socket1.appendChild(plug1);\n    socket2.appendChild(plug2);\n    this.connections[letter1] = letter2;\n    this.connections[letter2] = letter1;\n  }\n\n  reset() {\n    for (let socket of this.sockets) {\n      const plug = socket.querySelector('.plugboard__plug');\n      if (!plug) {\n        continue;\n      }\n      plug.remove();\n    }\n\n    this.connections = {};\n  }\n\n  bind() {\n    for (let socket of this.sockets) {\n      socket.onclick = () => {\n        if (this.prevSocket && this.prevSocket !== socket) {\n          this.connectSockets(socket, this.prevSocket);\n          socket.blur();\n          this.prevSocket = null;\n        } else {\n          this.prevSocket = socket;\n        }\n      };\n    }\n  }\n\n  init() {\n    this.bind();\n  }\n}\n\nconst plugboard = new Plugboard('.plugboard__socket');\nexport default plugboard;\n","import {RotorOption, ReflectorOption} from './data';\n\nclass Settings {\n  constructor(classDialogue, classToggle, classSelect) {\n    this.dialogueClass = classDialogue;\n    this.toggleClass = classToggle;\n    this.selectClass = classSelect;\n  }\n\n  changeRotor(rotor, value) {\n    return [rotor, value];\n  }\n\n  changeReflector(value) {\n    return value;\n  }\n\n  createOption(value) {\n    const option = document.createElement('option');\n    option.value = value;\n    option.innerText = value;\n    return option;\n  }\n\n  bind() {\n    const dialogue = document.querySelector(`.${this.dialogueClass}`);\n    const toggle = document.querySelector(`.${this.toggleClass}`);\n    const selects = Array.from(document.querySelectorAll(`.${this.selectClass}`));\n\n    const reflectors = Object.keys(ReflectorOption);\n    const rotors = Object.keys(RotorOption);\n\n    toggle.onclick = () => {\n      toggle.classList.toggle(`${this.toggleClass}--active`);\n      dialogue.classList.toggle(`${this.dialogueClass}--active`);\n    };\n\n    reflectors.forEach((item) => {\n      selects[0].appendChild(this.createOption(item));\n    });\n\n    selects[0].onchange = () => {\n      this.changeReflector(selects[0].value);\n      selects[0].blur();\n    };\n\n    for (let i = 1; i < selects.length; i++) {\n      rotors.forEach((item) => {\n        selects[i].appendChild(this.createOption(item));\n      });\n\n      selects[i].onchange = () => {\n        this.changeRotor(3 - i, selects[i].value);\n        selects[i].blur();\n      };\n    }\n  }\n\n  init() {\n    this.bind();\n    this.reset();\n  }\n\n  reset() {\n    const selects = Array.from(document.querySelectorAll(`.${this.selectClass}`));\n    selects[0].value = 'B';\n    selects[1].value = 'I';\n    selects[2].value = 'II';\n    selects[3].value = 'III';\n  }\n}\n\nconst settings = new Settings('settings__dialogue', 'settings__toggle', 'settings__select');\nexport default settings;\n","class Message {\n  constructor(classModal, classToggle, idDate, idTime, classInput, idCheckbox, classSubmit, classOutput) {\n    this.modalClass = classModal;\n    this.toggleClass = classToggle;\n    this.dateID = idDate;\n    this.timeID = idTime;\n    this.inputClass = classInput;\n    this.checkboxID = idCheckbox;\n    this.submitClass = classSubmit;\n    this.outputClass = classOutput;\n    this.month = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n  }\n\n  setTime() {\n    const dateArea = document.getElementById(this.dateID);\n    const timeArea = document.getElementById(this.timeID);\n\n    let today = new Date();\n    let dd = today.getDate();\n    let mm = today.getMonth();\n    let yyyy = today.getFullYear();\n    let hours = today.getHours();\n    let minutes = today.getMinutes();\n\n    dateArea.innerText = `${dd} ${this.month[mm]} ${yyyy}`;\n\n    if(dd < 10) {\n      dd = '0' + dd;\n    }\n\n    mm += 1;\n\n    if(mm < 10) {\n      mm = '0' + mm;\n    }\n\n    dateArea.dateTime = `${yyyy}-${mm}-${dd}`;\n    timeArea.innerText = `${hours}:${minutes}`;\n    timeArea.dateTime = `${hours}:${minutes}`;\n  }\n\n  encryptText(text) {\n    return text;\n  }\n\n  bind() {\n    const modal = document.querySelector(`.${this.modalClass}`);\n    const toggle = document.querySelector(`.${this.toggleClass}`);\n    const content = modal.querySelector(`.${this.modalClass}__content`);\n    const input = document.querySelector(`.${this.inputClass}`);\n    const checkbox = document.getElementById(this.checkboxID);\n    const submit = document.querySelector(`.${this.submitClass}`);\n    const output = document.querySelector(`.${this.outputClass}`);\n\n    toggle.onclick = () => {\n      modal.classList.add(`${this.modalClass}--active`);\n      this.setTime();\n    };\n\n    modal.onclick = () => {\n      modal.classList.remove(`${this.modalClass}--active`);\n    };\n\n    content.onclick = (evt) => {\n      evt.stopPropagation();\n    };\n\n    input.onkeyup = (evt) => {\n      evt.stopPropagation();\n      const re = /[^A-Za-z\\s]/g;\n      input.value = input.value.replace(re, '');\n      input.value = input.value.toUpperCase();\n    };\n\n    submit.onclick = () => {\n      let text = input.value;\n      if (!checkbox.checked) {\n        text = text.replace(/ /g, '').match(/.{1,5}/g).join(' ');\n      }\n\n      output.innerText = this.encryptText(text);\n    };\n  }\n\n  init() {\n    this.bind();\n  }\n}\n\nconst message = new Message('modal', 'modal__toggle', 'date', 'time', 'message__input', 'keep-formatting', 'message__btn', 'message__output');\nexport default message;\n","import {Alphabet} from './data';\n\nclass Enigma {\n  constructor() {\n\n  }\n\n  sumValues(a, b) {\n    return (a + b > 25) ? (a - 26 + b) : (a + b);\n  }\n\n  subValues(a, b) {\n    return (a - b < 0) ? (a + 26 - b) : (a - b);\n  }\n\n  encrypt(letter, rotors, rotorPositions, reflector) {\n    let result;\n    const letterIndex = Alphabet.indexOf(letter);\n    const numberOfRotors = rotorPositions.length;\n\n    for (let i = 0; i < numberOfRotors; i++) {\n      if (i == 0) {\n        result = Alphabet.indexOf(rotors[i][this.sumValues(rotorPositions[i], letterIndex)]);\n      } else {\n        result = Alphabet.indexOf(rotors[i][this.sumValues(result, this.subValues(rotorPositions[i], rotorPositions[i - 1]))]);\n      }\n    }\n\n    result = rotors[numberOfRotors - 1].indexOf(Alphabet[this.sumValues(Alphabet.indexOf(reflector[this.subValues(result, rotorPositions[numberOfRotors - 1])]), rotorPositions[numberOfRotors - 1])]);\n\n    for (let i = numberOfRotors - 1; i >= 0; i--) {\n      if (i == 0) {\n        result = this.subValues(result, rotorPositions[0]);\n      } else {\n        result = rotors[i - 1].indexOf(Alphabet[this.subValues(result, this.subValues(rotorPositions[i], rotorPositions[i - 1]))]);\n      }\n    }\n\n    result = Alphabet[result];\n\n    return result;\n  }\n}\n\nconst enigma = new Enigma();\nexport default enigma;\n","import {RotorOption, ReflectorOption, Alphabet} from './data';\nimport Rotors from './rotors';\nimport Lampboard from './lampboard';\nimport Keyboard from './keyboard';\nimport Plugboard from './plugboard';\nimport Settings from './settings';\nimport Message from './message';\nimport Enigma from './enigma';\n\nclass App {\n  constructor(rotorSet, rotorSetNotch, reflector) {\n    this.rotorSet = rotorSet;\n    this.rotorSetNotch = rotorSetNotch;\n    this.reflector = reflector;\n  }\n\n  init() {\n    Keyboard.init();\n    Plugboard.init();\n    Rotors.init();\n    Settings.init();\n    Message.init();\n  }\n\n  reset() {\n    Rotors.reset();\n    Lampboard.reset();\n    Plugboard.reset();\n  }\n\n  changeRotor(rotor, notch, rotorIndex) {\n    this.rotorSet[rotorIndex] = rotor;\n    this.rotorSetNotch[rotorIndex] = notch;\n  }\n\n  changeReflector(reflector) {\n    this.reflector = reflector;\n  }\n\n  inputAction(letter) {\n    if (letter in Plugboard.connections) {\n      letter = Plugboard.connections[letter];\n    }\n\n    const rotorsToStep = [0];\n\n    for (let i = 0; i < this.rotorSet.length - 1; i++) {\n      const currentValue = Alphabet[Rotors.valueIndex[i]];\n      if (currentValue == this.rotorSetNotch[i]) {\n        rotorsToStep.push(i + 1);\n      } else {\n        break;\n      }\n    }\n\n    rotorsToStep.forEach((item) => {\n      Rotors.stepRotor(item);\n    });\n\n    let result = Enigma.encrypt(letter, this.rotorSet, Rotors.valueIndex, this.reflector);\n\n    if (result in Plugboard.connections) {\n      result = Plugboard.connections[result];\n    }\n\n    Lampboard.newOutput(result);\n\n    return result;\n  }\n}\n\nconst app = new App([RotorOption.III.alphabet, RotorOption.II.alphabet, RotorOption.I.alphabet], [RotorOption.III.notch, RotorOption.II.notch, RotorOption.I.notch], ReflectorOption.B);\napp.init();\n\nKeyboard.inputAction = (letter) => {\n  app.inputAction(letter);\n};\n\nSettings.changeReflector = (value) => {\n  app.reflector = ReflectorOption[value];\n  app.reset();\n};\n\nSettings.changeRotor = (rotor, value) => {\n  app.rotorSet[rotor] = RotorOption[value]['alphabet'];\n  app.rotorSetNotch[rotor] = RotorOption[value]['notch'];\n  app.reset();\n};\n\nMessage.encryptText = (text) => {\n  let output = '';\n\n  for (let i = 0; i < text.length; i++) {\n    if (text[i] == ' ') {\n      output += text[i];\n    } else {\n      output += app.inputAction(text[i]);\n    }\n  }\n\n  return output;\n};\n"],"names":["Alphabet","Layout","RotorOption","ReflectorOption","Rotors","constructor","classAttribute","rotors","Array","from","document","querySelectorAll","reverse","valueIndex","setValue","rotorIndex","value","rotor","indexOf","mainWindow","querySelector","firstNextWindow","previousElementSibling","secondNextWindow","firstPrevWindow","nextElementSibling","secondPrevWindow","wheel","firstNextValueIndex","secondNextValueIndex","firstPrevValueIndex","secondPrevValueIndex","innerText","style","backgroundPositionY","stepRotor","newValueIndex","newValue","getCurrentState","bind","index","entries","btnNext","btnPrev","input","onclick","currentValueIndex","onchange","validity","valid","toUpperCase","reset","i","length","init","Lampboard","lamps","lastIndex","newOutput","letter","newIndex","classList","add","currentIndex","remove","lampboard","Keyboard","keys","inputAction","key","onkeyup","evt","re","test","keyboard","Plugboard","sockets","connections","prevSocket","createPlug","pairLetter","plug","createElement","tabIndex","setAttribute","disconnectSockets","plug1","plug2","letter1","letter2","connectSockets","socket1","socket2","stopPropagation","appendChild","socket","blur","plugboard","Settings","classDialogue","classToggle","classSelect","dialogueClass","toggleClass","selectClass","changeRotor","changeReflector","createOption","option","dialogue","toggle","selects","reflectors","Object","forEach","item","settings","Message","classModal","idDate","idTime","classInput","idCheckbox","classSubmit","classOutput","modalClass","dateID","timeID","inputClass","checkboxID","submitClass","outputClass","month","setTime","dateArea","getElementById","timeArea","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","hours","getHours","minutes","getMinutes","dateTime","encryptText","text","modal","content","checkbox","submit","output","replace","checked","match","join","message","Enigma","sumValues","a","b","subValues","encrypt","rotorPositions","reflector","result","letterIndex","numberOfRotors","enigma","App","rotorSet","rotorSetNotch","notch","rotorsToStep","currentValue","push","app","III","alphabet","II","I","B"],"mappings":"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"}